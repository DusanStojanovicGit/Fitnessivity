<div class="search-container">
    <div class = "search-sort-container">
        <mat-form-field appearance="outline" class="search-bar">
            <mat-label>Search</mat-label>
            <input matInput type="text" placeholder="Search..." [formControl]="searchControl">
        </mat-form-field>
        <mat-form-field appearance="outline" class="sort-by">
            <mat-label>Sort by</mat-label>
            <mat-select [(ngModel)]="selectedFilter" (selectionChange)="fetchPlans()">
                <mat-option *ngFor="let filter of filters" [value]="filter.value">{{filter.name}}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <div class="filter-chips-container">
        <span style="margin-right: 1rem">Genre</span>
        <mat-chip-listbox class="filter-chips">

                <mat-chip-option 
                    *ngFor="let genre of genres"
                    [selected]="selectedGenre === genre"
                    (click)="toggleGenreSelection(genre)"
                    >
                        {{genre}}
                </mat-chip-option>
        </mat-chip-listbox>
    </div>
    <div class="filter-chips-container">
        <span style="margin-right: 1.5rem">Type</span>
        <mat-chip-set class="filter-chips">
            <ng-container *ngFor="let type of types">
                <mat-chip-option (selectionChange)="toggleTypeSelection(type)">{{type}}</mat-chip-option>
            </ng-container>
        </mat-chip-set>
    </div>
</div>
