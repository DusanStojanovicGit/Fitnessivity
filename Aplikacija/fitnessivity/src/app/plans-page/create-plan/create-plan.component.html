<form [formGroup]="formData" (ngSubmit)="submitForm()">

  <div class="all">
    <div class="container">
      <div class="container-top">
        <div class="information">
          <h3>Basic Information</h3>
          <input
            type="text"
            class="form-control plan-name"
            placeholder="Plan Name"
            formControlName = "name"
          />
          <div class="input-div">
            <select
              name="type"
              id="type"
              class="form-select mt-2 info-input"
              style="background-color: white; height: 40px"
              formControlName = "type"
            >
              <option value="" disabled selected>Type</option>
              <option *ngFor="let type of types" [value]="type">{{type}}</option>
            </select>
            <select
              name="genre"
              id="genre"
              class="form-select mt-2 info-input"
              style="background-color: white; height: 40px"
              formControlName = "genre"
            >
              <option value="" disabled selected>Genre</option>
              <option *ngFor="let genre of genres" [value]="genre">{{genre}}</option>
            </select>
          </div>
        </div>

        <div class="description">
          <h3>Description</h3>

          <textarea
            name="descri"
            id="descri"
            class="form-control"
            placeholder="Write your description here..."
            maxlength="1000"
            autofocus
            style="height: 100px"
            formControlName = "description"
          ></textarea>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12">
        <h3>Plan image</h3>
        <div class="plan-image">
          <img
            src="https://i0.wp.com/chemmatcars.uchicago.edu/wp-content/uploads/2021/03/default-placeholder-image-1024x1024-1.png?ssl=1"
            alt=""
          />
          <img *ngIf="imageURL" [src]="imageURL" />
          <input
            type="file"
            (change)="showPreview($event)"
            class="form-control picture"
            accept="image/png, image/jpeg"
          />
        </div>
      </div>
    </div>

    <div class="workouts">
      <div class="col-12">
        <h3>Workouts</h3>
        <ng-container class="workouts" *ngFor="let workout of workouts">
          <app-workout [workoutData]="workout.workoutData" (workoutRemoved)="onWorkoutRemoved(workout)"></app-workout>
        </ng-container>
        <div class="new-plans mt-4">
          <div class="button btn btn-primary" (click)="createNewWorkout()">Create new workout</div>
          <p>or</p>
          <div  class="button btn btn-secondary">Add from existing</div>
        </div>
      </div>

    </div>
    <div class="submit-btn-div">
      <button type="submit" class=" btn btn-outline-success btn-lg">Submit</button>

    </div>
  </div>
</form>
